package fismod;import ui.*;import util.*;import java.awt.*;/** * Dialog box per l'input dell'energia da usare per lo spettro */public class SpettroDialog extends TrackedDialog  { SimulationSpettro target;    HelpDisplayer help;    static Font font_small=new Font("TimesRoman", Font.PLAIN, 12);    static Font font_medium=new Font("TimesRoman", Font.PLAIN, 14);    static Font font_large=new Font("TimesRoman", Font.BOLD, 16);    //Choice energia;    List energia;    Checkbox  cancellaPrec;    /**     * Create a new dialog.  If the user confirms     * the choices, the target component will be notified by     * means of the startAnimation(int,boolean) method.      */    public SpettroDialog(SimulationSpettro target)      { super(UserInterface.getDummyFrame(),               "Condizioni iniziali", true);        this.target=target;        help=UserInterface.getHelpDisplayer();        // setLayout(new VerticalLayout(VerticalLayout.JUSTIFIED));        setLayout(new BorderLayout());        Panel panel=new Panel();        panel.setLayout(new VerticalLayout(VerticalLayout.LEFT));        panel.setFont(font_medium);        Label lab=new Label("Spettro dell'atomo di idrogeno");        lab.setFont(font_large);        panel.add("", lab);        energia=new AutoDoubleClickList();//Choice();        int i;        double E1=13.53;        for(i=2; i<=7; i++)          { double e=E1*(1-1.0/(i*i));            energia.addItem(Format.format(".2", e)+" eV");          }        energia.select(0);        panel.add("", new LabeledComponent(energia,                                            "Energia fornita",                                           LabeledComponent.LEFT));        cancellaPrec=new Checkbox("Cancella righe precedenti");        cancellaPrec.setState(false);        panel.add("", cancellaPrec);        add("Center", panel);        //        // Crea la barra di bottoni in basso        //        ImageLoader il=UserInterface.getImageLoader();        Panel confirm_panel=new Panel();        confirm_panel.setFont(font_large);        confirm_panel.setLayout(new FlowLayout(FlowLayout.LEFT));        confirm_panel.add("", new ImageButton3D("OK",                                   il.load("icons/ok.gif")));        confirm_panel.add("", new ImageButton3D("Annulla",                                   il.load("icons/cancel.gif")));        confirm_panel.add("", new ImageButton3D("Aiuto",                                   il.load("icons/help.gif")));        // add("", confirm_panel);        add("South", confirm_panel);      }    public boolean action(Event evt, Object what)      { if ("OK".equals(what))          { dispose();            int lev=energia.getSelectedIndex()+2;            boolean removePrev=cancellaPrec.getState();            target.startAnimation(lev, removePrev);          }        else if ("Annulla".equals(what))          { dispose();          }        else if ("Aiuto".equals(what))          { help.displayHelp("help/fismod", "spettro");          }        return true;      }    public boolean handleEvent(Event evt)      { if (evt.id == Event.WINDOW_DESTROY)          dispose();        return super.handleEvent(evt);      }  }