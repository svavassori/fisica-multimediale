package elemag;import ui.*;import util.*;import java.awt.*;/** * A dialog box to input initial conditions * for free motion */public class MotoDialog extends TrackedDialog  {     SimulationDisplay target;    HelpDisplayer help;    static Font font_small=new Font("TimesRoman", Font.PLAIN, 12);    static Font font_medium=new Font("TimesRoman", Font.PLAIN, 14);    static Font font_large=new Font("TimesRoman", Font.BOLD, 16);    TabsPanel tabs;    VectorInput vel;    NumericField massa, carica;     NumericField timeScale;    NumericField xPos, yPos;    CardLayout cards;    Panel cards_panel;    /**     * Create a new settings dialog. If the user confirms     * the changes, the target component will be notified with     * an action event having a Simulation object as the argument     */    public MotoDialog(SimulationDisplay target, double x, double y)      { super(UserInterface.getDummyFrame(),               "Moto di una particella", true);        this.target=target;        help=UserInterface.getHelpDisplayer();        // setLayout(new VerticalLayout(VerticalLayout.JUSTIFIED));        setLayout(new BorderLayout());                //        // Crea la barra di bottoni in alto        //        tabs=new TabsPanel();        tabs.setFont(font_small);        tabs.add("Posizione e massa");        tabs.add("Velocità iniziale");        add("North", tabs);        cards_panel=new Panel();        cards=new CardLayout();        cards_panel.setLayout(cards);        //        // Crea il pannello con l'input della velocita'        //        Panel vel_panel=new Panel();        vel_panel.setLayout(new VerticalLayout(VerticalLayout.JUSTIFIED));        Label lab=new Label("Velocità iniziale [m/s]");        lab.setFont(font_large);        vel_panel.add("", lab);        vel=new VectorInput(-20, 20, -20, 20);        vel_panel.add("", vel);        cards_panel.add("Vel", vel_panel);                //        // Crea il pannello con l'input di massa e posizione        //        Panel mass_panel=new Panel();        mass_panel.setLayout(new VerticalLayout(VerticalLayout.LEFT));        lab=new Label("Massa, carica e posizione iniziale");        lab.setFont(font_large);        mass_panel.add("", lab);        mass_panel.setFont(font_medium);        massa=new NumericField(8, 1e-6, 1);        massa.setValue(1e-3);        mass_panel.add("", new LabeledComponent(massa,                             "Massa [Kg]", LabeledComponent.LEFT));        carica=new NumericField(8, -0.1, 0.1);        carica.setValue(1e-3);        mass_panel.add("", new LabeledComponent(carica,                             "Carica [C]", LabeledComponent.LEFT));        xPos=new NumericField(8,-500,500);        xPos.setValue(x);        mass_panel.add("", new LabeledComponent(xPos,                             "Pos. X [m]", LabeledComponent.LEFT));        yPos=new NumericField(8,-500,500);        yPos.setValue(y);        mass_panel.add("", new LabeledComponent(yPos,                             "Pos. Y [m]", LabeledComponent.LEFT));        timeScale=new NumericField(8, 1e-3, 1e3);        timeScale.setValue(1);        mass_panel.add("", new LabeledComponent(timeScale,                             "Scala temporale", LabeledComponent.LEFT));                cards_panel.add("Massa", mass_panel);        add("Center", cards_panel);        //        // Crea la barra di bottoni in basso        //        ImageLoader il=UserInterface.getImageLoader();        Panel confirm_panel=new Panel();        confirm_panel.setFont(font_large);        confirm_panel.setLayout(new FlowLayout(FlowLayout.LEFT));        confirm_panel.add("", new ImageButton3D("OK",                                   il.load("icons/ok.gif")));        confirm_panel.add("", new ImageButton3D("Annulla",                                   il.load("icons/cancel.gif")));        confirm_panel.add("", new ImageButton3D("Aiuto",                                   il.load("icons/help.gif")));        // add("", confirm_panel);        add("South", confirm_panel);        cards.show(cards_panel, "Massa");      }    public boolean action(Event evt, Object what)      { if ("OK".equals(what))          { dispose();            Animation animation=new Animation(target,                                              massa.getValue(),                                              carica.getValue(),                                              xPos.getValue(),                                              yPos.getValue(),                                              vel.getX(),                                              vel.getY(),                                              timeScale.getValue());            target.deliverEvent(new Event(target, Event.ACTION_EVENT,                                           animation));          }        else if ("Annulla".equals(what))          { dispose();          }        else if ("Aiuto".equals(what))          { help.displayHelp("help/elemag", "moto");          }        else if ("Posizione e massa".equals(what))          { cards.show(cards_panel, "Massa");            tabs.show("Posizione e massa");          }        else if ("Velocità iniziale".equals(what))          { cards.show(cards_panel, "Vel");            tabs.show("Velocità iniziale");          }        return true;      }    public boolean handleEvent(Event evt)      { if (evt.id == Event.WINDOW_DESTROY)          dispose();        return super.handleEvent(evt);      }  }