package ui;import java.awt.*;import java.awt.image.*;/** * Implements an abstract class capable of loading images from * a default location (e.g. the Code Base of the applet) * waiting for the size of the image being known before  * returning the image * @author Pasquale Foggia * @version 0.99, Dec 1997 */public abstract class ImageLoader implements ImageObserver  { private Image error=null;    /**     * This must be defined to a method that actually loads the image     */    protected abstract Image fetch(String name);    /**     * Loads an image and waits for the size of the image being known     */    public synchronized Image load(String name)      { Image img=fetch(name);        if (img==null)          return null;        while (img.getWidth(this) <0 || img.getHeight(this) <0)          try            { wait();              if (error==img)                { error=null;                  System.out.println("Error loading image: "+name);                  return null;                }            }          catch (InterruptedException e)            {            }                return img;      }      public synchronized boolean imageUpdate(Image img, int infoFlags,                                            int x, int y,                                            int width, int height)      { if ((infoFlags & ERROR)!=0)          { System.err.println("Error loading "+img);            error=img;          }          notifyAll();        return true;      }  }  